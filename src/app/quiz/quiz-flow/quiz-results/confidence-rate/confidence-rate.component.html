<div class="progress my-2 position-relative"
     style="height: 2rem;">
  <div *ngIf="base && percent"
       class="progress-bar overflow-hidden"
       role="progressbar"
       [style.width]="sanitizeStyle(percent)"
       [attr.aria-valuenow]="percent"
       aria-valuemin="0"
       aria-valuemax="100"></div>
  <div *ngIf="ownConfidencePercent"
       [ngbTooltip]="ownConfidenceTooltip"
       [style.left]="'calc(' + ownConfidencePercent + '% - 5px)'"
       class="position-absolute h-100 own-confidence"></div>
  <div *ngIf="base"
       class="align-self-center position-absolute"
       style="left: 10px;">{{'component.liveResults.confidence_grade' | translate}}
  </div>
  <div *ngIf="base"
       class="align-self-center position-absolute"
       style="right: 10px;">{{percent}}&nbsp;|&nbsp;{{absolute}}&nbsp;/&nbsp;{{base}}
  </div>
  <div *ngIf="!base"
       class="w-100 d-flex align-items-center justify-content-center">
    <fa-icon [icon]="'spinner'"
             [spin]="true"></fa-icon>
  </div>
</div>

<ng-template #ownConfidenceTooltip>
  <span [innerHTML]="'component.liveResults.own_confidence_grade' | translate:{value: ownConfidencePercent}"
        class="white-space-pre-line"></span>
</ng-template>
